CREATE table SUPERMERCADO;
USE SUPERMERCADO;
CREATE TABLE CATEGORIAS(
ID_CATEGORIA INT AUTO_INCREMENT PRIMARY KEY,
NOME VARCHAR (100) NOT NULL UNIQUE,
DESCRIÇÃO TEXT);

CREATE TABLE PRODUTO(
ID_PRODUTO INT auto_increment PRIMARY KEY,
NOME VARCHAR(150) NOT NULL,
DESCRIÇÃO TEXT,
PREÇO DECIMAL(10, 2) NOT NULL,
QUANTIDADE_ESTOQUE INT NOT NULL DEFAULT 0,
ID_CATEGORIA INT NOT NULL,
FOREIGN KEY(ID_CATEGORIA) REFERENCES CATEGORIAS(ID_CATEGORIA)
);

CREATE TABLE HISTÓRICO_DE_PREÇO(
ID_ALTERAÇÃO INT AUTO_INCREMENT PRIMARY KEY,
ID_PRODUTO INT NOT NULL,
PREÇO_ANTERIOR DECIMAL(10, 2) NOT NULL,
PREÇO_ATUAL DECIMAL(10, 2) NOT NULL,
DATA_ALTERACAO TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
FOREIGN KEY (ID_PRODUTO) REFERENCES PRODUTO(ID_PRODUTO)
);



